import{_ as $,o as s,c as n,p as b,a as I,b as t,d as M,F,r as Y,e as G,n as V,f as w,w as q,g as z,T as P,h as C,i as d,t as l,j as J,k as Z,l as Q,m as T,q as f,u as U,s as W,v as X,x,y as g,z as ee,A as se,B as te,C as ne}from"./index-2HPT0okz.js";import{g as oe,l as ie,d as ae}from"./index-TwzzRiox.js";const le={},L=o=>(b("data-v-670bb427"),o=o(),I(),o),re={t:"1707551930411",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4400",width:"16",height:"16"},ce=L(()=>t("path",{d:"M131.11 192.37m32.17 0l700.08 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-700.08 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4401"},null,-1)),de=L(()=>t("path",{d:"M131.11 766.83m32.17 0l700.08 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-700.08 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4402"},null,-1)),he=L(()=>t("path",{d:"M449.33 385.09m32.17 0l381.87 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-381.87 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4403"},null,-1)),me=L(()=>t("path",{d:"M449.33 578.11m32.17 0l381.87 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-381.87 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4404"},null,-1)),ue=L(()=>t("path",{d:"M129.91 512.16L321.14 639.7V384.62L129.91 512.16z",fill:"#2c2c2c","p-id":"4405"},null,-1)),pe=[ce,de,he,me,ue];function _e(o,a){return s(),n("svg",re,pe)}const fe=$(le,[["render",_e],["__scopeId","data-v-670bb427"]]),ve={},ge=o=>(b("data-v-43447039"),o=o(),I(),o),we={t:"1707620551337",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4227",width:"16",height:"16"},$e=ge(()=>t("path",{d:"M937.387 488.107L772.267 372.48c-12.8-9.387-30.294-6.827-40.107 5.547-3.84 4.693-5.547 10.666-5.547 17.066v233.814c0 22.613 25.6 36.693 45.654 22.613l165.546-115.627c14.08-14.08 14.08-36.693-0.426-47.786z m-23.04-274.774H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.133 34.133-34.133h785.067c18.773 0 34.133 15.36 34.133 34.133s-14.933 34.133-34.133 34.133z m0 665.6H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.133 34.133-34.133h785.067c18.773 0 34.133 15.36 34.133 34.133s-14.933 34.133-34.133 34.133zM624.213 435.2H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.134 34.133-34.134h494.933c18.774 0 34.134 15.36 34.134 34.134S643.413 435.2 624.213 435.2z m0.427 221.867H129.28c-18.773 0-34.133-15.36-34.133-34.134s15.36-34.133 34.133-34.133h495.36c18.773 0 34.133 15.36 34.133 34.133v0.427c-0.426 18.347-15.36 33.707-34.133 33.707z",fill:"#2c2c2c","p-id":"4228"},null,-1)),ye=[$e];function ke(o,a){return s(),n("svg",we,ye)}const Ce=$(ve,[["render",ke],["__scopeId","data-v-43447039"]]),be=o=>(b("data-v-cd3e2c20"),o=o(),I(),o),Ie={key:0},Me=["onClick"],Se={key:1,class:"open"},qe=["onClick"],ze=be(()=>t("i",{class:"dot"},null,-1)),Le=["onClick"],Ae=M({__name:"List",props:{list:{}},setup(o){return(a,k)=>{const _=G("List",!0);return s(),n("ul",null,[(s(!0),n(F,null,Y(a.list,r=>(s(),n("li",{key:r.id,class:V({open:!r.show})},[w(P,{name:"scale",mode:"out-in"},{default:q(()=>[r.show?(s(),n("div",Ie,[t("i",{class:"fold",onClick:i=>r.show=!r.show},[w(fe)],8,Me),z(a.$slots,"item",{item:r},void 0,!0),w(P,{name:"fade",mode:"out-in"},{default:q(()=>[r.showChildren?(s(),C(_,{key:0,list:r.children},{item:q(i=>[z(a.$slots,"item",{item:i.item},void 0,!0)]),_:2},1032,["list"])):d("",!0)]),_:2},1024)])):(s(),n("div",Se,[t("i",{class:"fold",onClick:i=>r.show=!r.show},[w(Ce)],8,qe),ze,t("b",{onClick:i=>r.show=!r.show},l(r.pname||r.name),9,Le)]))]),_:2},1024)],2))),128))])}}}),Be=$(Ae,[["__scopeId","data-v-cd3e2c20"]]),Fe={},Ve={width:"10",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{"margin-right":"4px"}},De=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 1.25a.75.75 0 000 1.5h1.09L7.54 4.298a.757.757 0 00-.058.066 4 4 0 10.968 1.112.752.752 0 00.15-.117L10.25 3.71V5a.75.75 0 001.5 0V2a.75.75 0 00-.75-.75H8zM5 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z",fill:"#168EF9"},null,-1),He=[De];function Ne(o,a){return s(),n("svg",Ve,He)}const Te=$(Fe,[["render",Ne]]),Ye={},je={width:"10",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{"margin-right":"4px"}},Ee=J('<mask id="woman_svg__a" maskUnits="userSpaceOnUse" x="-4" y="-4" width="16" height="16" style="mask-type:alpha;"><path fill="#C4C4C4" d="M-2-2h16v16H-2z"></path></mask><g mask="url(#woman_svg__a)" stroke="#F5588E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="7.2" cy="4.896" r="3.25"></circle><path d="M1.617 10.511l3.115-3.115M1.904 7.396l2.828 2.829"></path></g>',2),Oe=[Ee];function Pe(o,a){return s(),n("svg",je,Oe)}const Ze=$(Ye,[["render",Pe]]),Ue=M({__name:"GenderIcon",props:{gender:{type:Boolean}},setup(o){return(a,k)=>a.gender?(s(),C(Te,{key:0})):(s(),C(Ze,{key:1}))}}),Ke=o=>(b("data-v-529a6b61"),o=o(),I(),o),Re={class:"container"},Ge=Ke(()=>t("h3",{class:"title"},"详细信息",-1)),Je={class:"body"},Qe=M({__name:"Modal",props:{open:{type:Boolean}},emits:["close"],setup(o,{emit:a}){const k=a;function _(){k("close")}return(r,i)=>(s(),C(Q,{to:"body"},[r.open?(s(),n("div",{key:0,class:"modal",onClick:Z(_,["self"])},[t("div",Re,[z(r.$slots,"header",{},()=>[Ge],!0),t("div",Je,[z(r.$slots,"body",{},void 0,!0)]),z(r.$slots,"footer",{},()=>[t("button",{onClick:_,class:"btn"},"确认")],!0)])])):d("",!0)]))}}),We=$(Qe,[["__scopeId","data-v-529a6b61"]]),y=o=>(b("data-v-d02e3bd9"),o=o(),I(),o),Xe=["textContent"],xe=["textContent"],es={key:0,class:"item"},ss={class:"item"},ts={key:0},ns={key:1},os={key:1,class:"item"},is={key:2,class:"item"},as={class:"item"},ls={key:0},rs={key:1},cs=["href"],ds={class:"name"},hs=y(()=>t("span",{class:"align"},"姓名",-1)),ms={key:0,class:"level"},us=y(()=>t("span",{class:"align"},"世代",-1)),ps={key:1,class:"pname"},_s=y(()=>t("span",{class:"align"},"乳名",-1)),fs={class:"gender"},vs=y(()=>t("span",{class:"align"},"性别",-1)),gs={key:2,class:"mate"},ws=y(()=>t("span",{class:"align"},"配偶",-1)),$s={key:3,class:"age"},ys=y(()=>t("span",{class:"align"},"虚岁",-1)),ks={key:4,class:"birthYear"},Cs=y(()=>t("span",{class:"align"},"出生年份",-1)),bs={key:5,class:"birthDay"},Is={key:6,class:"origin"},Ms=y(()=>t("span",{class:"align"},"来自",-1)),Ss={key:7,class:"phone"},qs=y(()=>t("span",{class:"align"},"联系电话",-1)),zs=["href"],Ls={key:8,class:"wechat"},As=y(()=>t("span",{class:"align"},"微信",-1)),Bs={key:9,class:"tags"},Fs=y(()=>t("span",{class:"align"},"其他信息",-1)),Vs={key:10,class:"image-container"},Ds=["src"],Hs=M({__name:"PersonCard",props:{item:{}},setup(o){const a=e=>parseInt(new Date().toLocaleDateString("zh-u-ca-chinese").slice(0,4))-e+1,k=e=>e?"男":"女",_=T(!1);function r(e){window.open(e,"_blank")}async function i(e){await navigator.clipboard.writeText(e)}return(e,p)=>(s(),n(F,null,[t("article",{class:V([e.item.gender?"male":"female",e.item.current?"current":"",e.item.die?"die":""]),onClick:p[1]||(p[1]=v=>_.value=!0)},[t("header",null,[t("span",{class:"name",textContent:l(e.item.name)},null,8,Xe),e.item.pname?(s(),n("span",{key:0,class:"pname",textContent:l(e.item.pname)},null,8,xe)):d("",!0)]),t("body",null,[e.item.level?(s(),n("span",es,"第"+l(e.item.level)+"世",1)):d("",!0),t("span",ss,[w(Ue,{gender:!!e.item.gender},null,8,["gender"]),e.item.birthYear?(s(),n("span",ts,l(a(e.item.birthYear))+"岁",1)):(s(),n("span",ns,l(k(e.item.gender)),1))]),e.item.origin?(s(),n("span",os,l(e.item.origin),1)):d("",!0),e.item.birthDay?(s(),n("span",is,l(e.item.birthDay),1)):d("",!0),(s(!0),n(F,null,Y(e.item.tags,v=>(s(),n("span",as,l(v),1))),256))]),t("footer",null,[e.item.birthYear?(s(),n("p",ls,"出生年份: "+l(e.item.birthYear)+"年",1)):d("",!0),e.item.phone?(s(),n("p",rs,[f(" 联系电话: "),t("a",{href:`tel:${e.item.phone}`,onClick:p[0]||(p[0]=Z(()=>{},["stop"]))},l(e.item.phone),9,cs)])):d("",!0)])],2),w(We,{open:_.value,onClose:p[4]||(p[4]=v=>_.value=!1)},{body:q(()=>[t("p",ds,[hs,f(": "+l(e.item.name),1)]),e.item.level?(s(),n("p",ms,[us,f(": 第"+l(e.item.level)+"世 ",1)])):d("",!0),e.item.pname?(s(),n("p",ps,[_s,f(": "+l(e.item.pname),1)])):d("",!0),t("p",fs,[vs,f(": "+l(k(e.item.gender)),1)]),e.item.mate?(s(),n("p",gs,[ws,f(": "+l(Array.isArray(e.item.mate)?e.item.mate.map(v=>v.name).join("、"):e.item.mate.name),1)])):d("",!0),e.item.birthYear?(s(),n("p",$s,[ys,f(": "+l(a(e.item.birthYear))+"岁 ",1)])):d("",!0),e.item.birthYear?(s(),n("p",ks,[Cs,f(": "+l(e.item.birthYear)+"年 ",1)])):d("",!0),e.item.birthDay?(s(),n("p",bs," 出生日期: 农历"+l(e.item.birthDay),1)):d("",!0),e.item.origin?(s(),n("p",Is,[Ms,f(": "+l(e.item.origin),1)])):d("",!0),e.item.phone?(s(),n("p",Ss,[qs,f(": "),t("a",{href:`tel:${e.item.phone}`},l(e.item.phone),9,zs)])):d("",!0),e.item.phone?(s(),n("p",Ls,[As,f(": "),t("a",{href:"weixin://",onClick:p[2]||(p[2]=v=>i(e.item.phone))},l(e.item.phone),1)])):d("",!0),e.item.tags?(s(),n("p",Bs,[Fs,f(": "+l(e.item.tags.join("、")),1)])):d("",!0),e.item.image?(s(),n("div",Vs,[t("img",{src:e.item.image,alt:"avatar",class:"image",onClick:p[3]||(p[3]=v=>r(e.item.image))},null,8,Ds)])):d("",!0)]),_:1},8,["open"])],64))}}),N=$(Hs,[["__scopeId","data-v-d02e3bd9"]]),Ns=["title"],Ts={key:0,class:"close-text"},Ys={key:1,class:"close-text"},js=M({__name:"PersonItem",props:{item:{}},setup(o){const{item:a}=o,k=U(),_=W(()=>a.pname?a.pname:a.name.length>1?a.name.slice(1):a.name[0]),r=i=>{i.children.length&&k.replace(`/${i.id}`)};return(i,e)=>(s(),n("section",{class:V({children:i.item.children.length&&i.item.showChildren})},[t("aside",null,[t("div",{class:"avatar",style:X({"--length":_.value.length+1,cursor:i.item.children.length?"pointer":"default"}),onClick:e[0]||(e[0]=p=>r(i.item)),title:i.item.children.length?"点击查看此分支":""},l(_.value),13,Ns),i.item.children.length?(s(),n("div",{key:0,class:V(["close",{open:i.item.showChildren}]),onClick:e[1]||(e[1]=p=>i.item.showChildren=!i.item.showChildren)},[i.item.showChildren?(s(),n("span",Ys,"收起")):(s(),n("span",Ts,"展开 "+l(i.item.children.length),1))],2)):d("",!0)]),w(N,{item:i.item},null,8,["item"]),i.item.mate&&i.item.mate.name?(s(),C(N,{key:0,item:i.item.mate},null,8,["item"])):d("",!0),Array.isArray(i.item.mate)?(s(!0),n(F,{key:1},Y(i.item.mate,p=>(s(),C(N,{key:p.name,item:p},null,8,["item"]))),128)):d("",!0)],2))}}),Es=$(js,[["__scopeId","data-v-c9ffd225"]]),Os={},Ps=o=>(b("data-v-0f6d3c68"),o=o(),I(),o),Zs={t:"1707552859824",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4303",width:"16",height:"16"},Us=Ps(()=>t("path",{d:"M395.21518 513.604544l323.135538-312.373427c19.052938-18.416442 19.052938-48.273447 0-66.660212-19.053961-18.416442-49.910737-18.416442-68.964698 0L291.75176 480.290811c-19.052938 18.416442-19.052938 48.273447 0 66.660212l357.633237 345.688183c9.525957 9.207709 22.01234 13.796214 34.497699 13.796214 12.485359 0 24.971741-4.588505 34.466999-13.82896 19.052938-18.416442 19.052938-48.242747 0-66.660212L395.21518 513.604544z",fill:"#272636","p-id":"4304"},null,-1)),Ks=[Us];function Rs(o,a){return s(),n("svg",Zs,Ks)}const Gs=$(Os,[["render",Rs],["__scopeId","data-v-0f6d3c68"]]),Js={},Qs={width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"FhOy97Hs"},Ws=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.875 1.5a6.375 6.375 0 103.642 11.608l3.063 3.063a1.125 1.125 0 001.59-1.591l-3.062-3.063A6.375 6.375 0 007.875 1.5zM3.75 7.875a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0z",fill:"#4F5168"},null,-1),Xs=[Ws];function xs(o,a){return s(),n("svg",Qs,Xs)}const et=$(Js,[["render",xs]]),st={class:"search-container"},tt={class:"prefix"},nt={class:"container"},ot={key:0},it=M({__name:"Home",setup(o){const a=T(""),k=ne(),_=U(),r=Number(k.params.id||-1),i=JSON.parse(x.decrypt(oe)||"[]"),e=i.find(u=>u.id===r);let p=e,v=30;for(;p;)p=i.find(u=>u.id===p.pid),v++;function K(){_.replace(`/${e==null?void 0:e.pid}`)}const S=T(ie(i,r,v).map(u=>(u.showChildren=!0,u)));function j(u){for(const c of u)c.current=!1,c.mate&&(Array.isArray(c.mate)?c.mate.forEach(h=>h.current=!1):c.mate.current=!1),c.children&&j(c.children)}function D(u,c){for(const h of u)h.show=c,h.children&&D(h.children,c)}function H(u,c){var h,m;return!!(u.name.includes(c)||(h=u.pname)!=null&&h.includes(c)||(m=u.keywords)!=null&&m.some(B=>c.toLocaleLowerCase().includes(B)))}function E(u,c){const h=[];for(const m of u){if(H(m,c))m.current=!0,m.show=!0,h.push(m);else if(m.mate&&Array.isArray(m.mate))for(const O of m.mate)H(O,c)&&(O.current=!0,m.show=!0,h.push(m));else m.mate&&!Array.isArray(m.mate)&&H(m.mate,c)&&(m.mate.current=!0,m.show=!0,h.push(m));const B=E(m.children,c);h.push(...B),B.length?(m.show=!0,m.showChildren=!0,h.push(m)):m.showChildren=!1}return h}function R(){j(S.value),a.value.trim()?(D(S.value,!1),E(S.value,a.value.trim()),setTimeout(()=>{const u=document.querySelector(".current");u&&u.scrollIntoView({behavior:"smooth",block:"center"})},300)):D(S.value,!0)}const A=ae(R,300);return(u,c)=>(s(),n("section",null,[t("header",null,[g(e)?(s(),n("i",{key:0,class:"back",onClick:K},[w(Gs)])):d("",!0),t("div",st,[t("div",tt,[w(et)]),ee(t("input",{type:"text",placeholder:"请输入关键字","onUpdate:modelValue":c[0]||(c[0]=h=>a.value=h),class:"search",onKeydown:c[1]||(c[1]=te((...h)=>g(A)&&g(A)(...h),["enter"]))},null,544),[[se,a.value]]),t("button",{class:"suffix",onClick:c[2]||(c[2]=(...h)=>g(A)&&g(A)(...h))},"搜索")])]),t("main",nt,[g(e)?(s(),n("h3",ot," 第"+l(g(v)-1)+"世祖 "+l(g(e).die?g(e).name+(g(e).gender?"公":"婆"):g(e).name)+" 后裔 ",1)):d("",!0),w(Be,{list:S.value},{item:q(({item:h})=>[w(Es,{item:h},null,8,["item"])]),_:1},8,["list"])])]))}}),rt=$(it,[["__scopeId","data-v-045cb3f5"]]);export{rt as default};
