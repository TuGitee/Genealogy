import{_ as $,o as t,c as n,p as M,a as B,b as s,d as S,F as N,r as O,e as J,n as T,f as w,w as z,g as L,T as U,h as b,i as m,t as c,j as Y,k as K,l as Q,m as E,q as _,u as R,s as W,v as X,x,y as g,z as ee,A as se,B as te,C as ne}from"./index-GN03M9DF.js";import{g as oe,l as ie,d as ae}from"./index-ddY3wwJX.js";const le={},A=o=>(M("data-v-670bb427"),o=o(),B(),o),re={t:"1707551930411",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4400",width:"16",height:"16"},ce=A(()=>s("path",{d:"M131.11 192.37m32.17 0l700.08 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-700.08 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4401"},null,-1)),de=A(()=>s("path",{d:"M131.11 766.83m32.17 0l700.08 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-700.08 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4402"},null,-1)),he=A(()=>s("path",{d:"M449.33 385.09m32.17 0l381.87 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-381.87 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4403"},null,-1)),me=A(()=>s("path",{d:"M449.33 578.11m32.17 0l381.87 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-381.87 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4404"},null,-1)),ue=A(()=>s("path",{d:"M129.91 512.16L321.14 639.7V384.62L129.91 512.16z",fill:"#2c2c2c","p-id":"4405"},null,-1)),pe=[ce,de,he,me,ue];function _e(o,a){return t(),n("svg",re,pe)}const fe=$(le,[["render",_e],["__scopeId","data-v-670bb427"]]),ve={},ge=o=>(M("data-v-43447039"),o=o(),B(),o),we={t:"1707620551337",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4227",width:"16",height:"16"},$e=ge(()=>s("path",{d:"M937.387 488.107L772.267 372.48c-12.8-9.387-30.294-6.827-40.107 5.547-3.84 4.693-5.547 10.666-5.547 17.066v233.814c0 22.613 25.6 36.693 45.654 22.613l165.546-115.627c14.08-14.08 14.08-36.693-0.426-47.786z m-23.04-274.774H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.133 34.133-34.133h785.067c18.773 0 34.133 15.36 34.133 34.133s-14.933 34.133-34.133 34.133z m0 665.6H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.133 34.133-34.133h785.067c18.773 0 34.133 15.36 34.133 34.133s-14.933 34.133-34.133 34.133zM624.213 435.2H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.134 34.133-34.134h494.933c18.774 0 34.134 15.36 34.134 34.134S643.413 435.2 624.213 435.2z m0.427 221.867H129.28c-18.773 0-34.133-15.36-34.133-34.134s15.36-34.133 34.133-34.133h495.36c18.773 0 34.133 15.36 34.133 34.133v0.427c-0.426 18.347-15.36 33.707-34.133 33.707z",fill:"#2c2c2c","p-id":"4228"},null,-1)),ye=[$e];function ke(o,a){return t(),n("svg",we,ye)}const Ce=$(ve,[["render",ke],["__scopeId","data-v-43447039"]]),Ie=o=>(M("data-v-0e1d24e8"),o=o(),B(),o),be={key:0},Me=["onClick"],Be={key:1,class:"open"},Se=["onClick"],qe=Ie(()=>s("i",{class:"dot"},null,-1)),ze=["onClick"],Le=S({__name:"List",props:{list:{}},setup(o){return(a,f)=>{const v=J("List",!0);return t(),n("ul",null,[(t(!0),n(N,null,O(a.list,l=>(t(),n("li",{key:l.id,class:T({open:!l.show})},[w(U,{name:"scale",mode:"out-in"},{default:z(()=>[l.show?(t(),n("div",be,[s("i",{class:"fold",onClick:e=>l.show=!l.show},[w(fe)],8,Me),L(a.$slots,"item",{item:l},void 0,!0),w(U,{name:"fade",mode:"out-in"},{default:z(()=>[l.showChildren&&l.children?(t(),b(v,{key:0,list:l.children},{item:z(e=>[L(a.$slots,"item",{item:e.item},void 0,!0)]),_:2},1032,["list"])):m("",!0)]),_:2},1024)])):(t(),n("div",Be,[s("i",{class:"fold",onClick:e=>l.show=!l.show},[w(Ce)],8,Se),qe,s("b",{onClick:e=>l.show=!l.show},c(l.pname||l.name),9,ze)]))]),_:2},1024)],2))),128))])}}}),Ae=$(Le,[["__scopeId","data-v-0e1d24e8"]]),Fe={},Ve={width:"10",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{"margin-right":"4px"}},He=s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 1.25a.75.75 0 000 1.5h1.09L7.54 4.298a.757.757 0 00-.058.066 4 4 0 10.968 1.112.752.752 0 00.15-.117L10.25 3.71V5a.75.75 0 001.5 0V2a.75.75 0 00-.75-.75H8zM5 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z",fill:"#168EF9"},null,-1),Ne=[He];function Te(o,a){return t(),n("svg",Ve,Ne)}const De=$(Fe,[["render",Te]]),je={},Ee={width:"10",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{"margin-right":"4px"}},Oe=Y('<mask id="woman_svg__a" maskUnits="userSpaceOnUse" x="-4" y="-4" width="16" height="16" style="mask-type:alpha;"><path fill="#C4C4C4" d="M-2-2h16v16H-2z"></path></mask><g mask="url(#woman_svg__a)" stroke="#F5588E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="7.2" cy="4.896" r="3.25"></circle><path d="M1.617 10.511l3.115-3.115M1.904 7.396l2.828 2.829"></path></g>',2),Pe=[Oe];function Ze(o,a){return t(),n("svg",Ee,Pe)}const Ue=$(je,[["render",Ze]]),Ke=S({__name:"GenderIcon",props:{gender:{type:Boolean}},setup(o){return(a,f)=>a.gender?(t(),b(De,{key:0})):(t(),b(Ue,{key:1}))}}),Re=o=>(M("data-v-529a6b61"),o=o(),B(),o),Ge={class:"container"},Je=Re(()=>s("h3",{class:"title"},"详细信息",-1)),Ye={class:"body"},Qe=S({__name:"Modal",props:{open:{type:Boolean}},emits:["close"],setup(o,{emit:a}){const f=a;function v(){f("close")}return(l,e)=>(t(),b(Q,{to:"body"},[l.open?(t(),n("div",{key:0,class:"modal",onClick:K(v,["self"])},[s("div",Ge,[L(l.$slots,"header",{},()=>[Je],!0),s("div",Ye,[L(l.$slots,"body",{},void 0,!0)]),L(l.$slots,"footer",{},()=>[s("button",{onClick:v,class:"btn"},"确认")],!0)])])):m("",!0)]))}}),We=$(Qe,[["__scopeId","data-v-529a6b61"]]),y=o=>(M("data-v-0685cf36"),o=o(),B(),o),Xe=["textContent"],xe=["textContent"],es={key:0,class:"item"},ss={class:"item"},ts={key:0},ns={key:1},os={key:1,class:"item"},is={key:2,class:"item"},as={class:"item"},ls={key:0},rs={key:1},cs=["href"],ds={class:"name"},hs=y(()=>s("span",{class:"align"},"姓名",-1)),ms={key:0,class:"level"},us=y(()=>s("span",{class:"align"},"世代",-1)),ps={key:1,class:"pname"},_s=y(()=>s("span",{class:"align"},"乳名",-1)),fs={class:"gender"},vs=y(()=>s("span",{class:"align"},"性别",-1)),gs={key:2,class:"mate"},ws=y(()=>s("span",{class:"align"},"配偶",-1)),$s={key:3,class:"age"},ys=y(()=>s("span",{class:"align"},"虚岁",-1)),ks={key:4,class:"birthYear"},Cs=y(()=>s("span",{class:"align"},"出生日期",-1)),Is={key:5,class:"origin"},bs=y(()=>s("span",{class:"align"},"来自",-1)),Ms={key:6,class:"phone"},Bs=y(()=>s("span",{class:"align"},"联系电话",-1)),Ss=["href"],qs={key:7,class:"wechat"},zs=y(()=>s("span",{class:"align"},"微信",-1)),Ls={key:8,class:"tags"},As=y(()=>s("span",{class:"align"},"其他信息",-1)),Fs={key:9,class:"image-container"},Vs=["src"],Hs=S({__name:"PersonCard",props:{item:{}},setup(o){const a=e=>e?"男":"女",f=E(!1);function v(e){window.open(e,"_blank")}async function l(e){await navigator.clipboard.writeText(e)}return(e,i)=>{var k;return t(),n(N,null,[s("article",{class:T([e.item.gender?"male":"female",e.item.current?"current":"",e.item.die?"die":""]),onClick:i[1]||(i[1]=p=>f.value=!0)},[s("header",null,[s("span",{class:"name",textContent:c(e.item.name)},null,8,Xe),e.item.pname?(t(),n("span",{key:0,class:"pname",textContent:c(e.item.pname)},null,8,xe)):m("",!0)]),s("body",null,[e.item.level?(t(),n("span",es,"第"+c(e.item.level)+"世",1)):m("",!0),s("span",ss,[w(Ke,{gender:!!e.item.gender},null,8,["gender"]),e.item.age?(t(),n("span",ts,c(e.item.age)+"岁",1)):(t(),n("span",ns,c(a(e.item.gender)),1))]),e.item.origin?(t(),n("span",os,c(e.item.origin),1)):m("",!0),(k=e.item.lunarBirthDay)!=null&&k.slice(5)?(t(),n("span",is,c(e.item.lunarBirthDay.slice(5)),1)):m("",!0),(t(!0),n(N,null,O(e.item.tags,p=>(t(),n("span",as,c(p),1))),256))]),s("footer",null,[e.item.lunarBirthDay?(t(),n("p",ls," 出生年份: "+c(e.item.lunarBirthDay.slice(0,4))+"年 ",1)):m("",!0),e.item.phone?(t(),n("p",rs,[_(" 联系电话: "),s("a",{href:`tel:${e.item.phone}`,onClick:i[0]||(i[0]=K(()=>{},["stop"]))},c(e.item.phone),9,cs)])):m("",!0)])],2),w(We,{open:f.value,onClose:i[4]||(i[4]=p=>f.value=!1)},{body:z(()=>[s("p",ds,[hs,_(": "+c(e.item.name),1)]),e.item.level?(t(),n("p",ms,[us,_(": 第"+c(e.item.level)+"世 ",1)])):m("",!0),e.item.pname?(t(),n("p",ps,[_s,_(": "+c(e.item.pname),1)])):m("",!0),s("p",fs,[vs,_(": "+c(a(e.item.gender)),1)]),e.item.mate?(t(),n("p",gs,[ws,_(": "+c(Array.isArray(e.item.mate)?e.item.mate.map(p=>p.name).join("、"):e.item.mate.name),1)])):m("",!0),e.item.age?(t(),n("p",$s,[ys,_(": "+c(e.item.age)+"岁 ",1)])):m("",!0),e.item.lunarBirthDay?(t(),n("p",ks,[Cs,_(": "+c(e.item.lunarBirthDay),1)])):m("",!0),e.item.origin?(t(),n("p",Is,[bs,_(": "+c(e.item.origin),1)])):m("",!0),e.item.phone?(t(),n("p",Ms,[Bs,_(": "),s("a",{href:`tel:${e.item.phone}`},c(e.item.phone),9,Ss)])):m("",!0),e.item.phone?(t(),n("p",qs,[zs,_(": "),s("a",{href:"weixin://",onClick:i[2]||(i[2]=p=>l(e.item.phone))},c(e.item.phone),1)])):m("",!0),e.item.tags?(t(),n("p",Ls,[As,_(": "+c(e.item.tags.join("、")),1)])):m("",!0),e.item.image?(t(),n("div",Fs,[s("img",{src:e.item.image,alt:"avatar",class:"image",onClick:i[3]||(i[3]=p=>v(e.item.image))},null,8,Vs)])):m("",!0)]),_:1},8,["open"])],64)}}}),j=$(Hs,[["__scopeId","data-v-0685cf36"]]),Ns=["title"],Ts={key:0,class:"close-text"},Ds={key:1,class:"close-text"},js=S({__name:"PersonItem",props:{item:{}},setup(o){const{item:a}=o,f=R(),v=W(()=>a.pname?a.pname:a.name.length>1?a.name.slice(1):a.name[0]),l=e=>{var i;(i=e.children)!=null&&i.length&&f.replace(`/${e.id}`)};return(e,i)=>{var k,p,F,C,q;return t(),n("section",{class:T({children:((k=e.item.children)==null?void 0:k.length)&&e.item.showChildren})},[s("aside",null,[s("div",{class:"avatar",style:X({"--length":v.value.length+1,cursor:(p=e.item.children)!=null&&p.length?"pointer":"default"}),onClick:i[0]||(i[0]=I=>l(e.item)),title:(F=e.item.children)!=null&&F.length?"点击查看此分支":""},c(v.value),13,Ns),(C=e.item.children)!=null&&C.length?(t(),n("div",{key:0,class:T(["close",{open:e.item.showChildren}]),onClick:i[1]||(i[1]=I=>e.item.showChildren=!e.item.showChildren)},[e.item.showChildren?(t(),n("span",Ds,"收起")):(t(),n("span",Ts,"展开 "+c((q=e.item.children)==null?void 0:q.length),1))],2)):m("",!0)]),w(j,{item:e.item},null,8,["item"]),Array.isArray(e.item.mate)?(t(!0),n(N,{key:0},O(e.item.mate,I=>(t(),b(j,{key:I.name,item:I},null,8,["item"]))),128)):e.item.mate?(t(),b(j,{key:1,item:e.item.mate},null,8,["item"])):m("",!0)],2)}}}),Es=$(js,[["__scopeId","data-v-60e456cc"]]),Os={},Ps=o=>(M("data-v-0f6d3c68"),o=o(),B(),o),Zs={t:"1707552859824",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4303",width:"16",height:"16"},Us=Ps(()=>s("path",{d:"M395.21518 513.604544l323.135538-312.373427c19.052938-18.416442 19.052938-48.273447 0-66.660212-19.053961-18.416442-49.910737-18.416442-68.964698 0L291.75176 480.290811c-19.052938 18.416442-19.052938 48.273447 0 66.660212l357.633237 345.688183c9.525957 9.207709 22.01234 13.796214 34.497699 13.796214 12.485359 0 24.971741-4.588505 34.466999-13.82896 19.052938-18.416442 19.052938-48.242747 0-66.660212L395.21518 513.604544z",fill:"#272636","p-id":"4304"},null,-1)),Ks=[Us];function Rs(o,a){return t(),n("svg",Zs,Ks)}const Gs=$(Os,[["render",Rs],["__scopeId","data-v-0f6d3c68"]]),Js={},Ys={width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"FhOy97Hs"},Qs=s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.875 1.5a6.375 6.375 0 103.642 11.608l3.063 3.063a1.125 1.125 0 001.59-1.591l-3.062-3.063A6.375 6.375 0 007.875 1.5zM3.75 7.875a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0z",fill:"#4F5168"},null,-1),Ws=[Qs];function Xs(o,a){return t(),n("svg",Ys,Ws)}const xs=$(Js,[["render",Xs]]),et={class:"search-container"},st={class:"prefix"},tt={class:"container"},nt={key:0},ot=S({__name:"Home",setup(o){const a=E(""),f=ne(),v=R(),l=Number(f.params.id||-1),e=JSON.parse(x.decrypt(oe)||"[]"),i=e.find(u=>u.id===l);let k=i,p=30;for(;k;)k=e.find(u=>u.id===k.pid),p++;function F(){v.replace(`/${i==null?void 0:i.pid}`)}const C=E(ie(e,l,p).map(u=>(u.showChildren=!0,u)));function q(u){for(const r of u)r.current=!1,r.mate&&(Array.isArray(r.mate)?r.mate.forEach(d=>d.current=!1):r.mate.current=!1),r.children&&q(r.children)}function I(u,r){for(const d of u)d.show=r,d.children&&I(d.children,r)}function D(u,r){var d,h;return!!(u.name.includes(r)||(d=u.pname)!=null&&d.includes(r)||(h=u.keywords)!=null&&h.some(H=>r.toLocaleLowerCase().includes(H)))}function P(u,r){const d=[];for(const h of u){if(D(h,r))h.current=!0,h.show=!0,d.push(h);else if(h.mate&&Array.isArray(h.mate))for(const Z of h.mate)D(Z,r)&&(Z.current=!0,h.show=!0,d.push(h));else h.mate&&!Array.isArray(h.mate)&&D(h.mate,r)&&(h.mate.current=!0,h.show=!0,d.push(h));const H=P(h.children,r);d.push(...H),H.length?(h.show=!0,h.showChildren=!0,d.push(h)):h.showChildren=!1}return d}function G(){q(C.value),a.value.trim()?(I(C.value,!1),P(C.value,a.value.trim()),setTimeout(()=>{const u=document.querySelector(".current");u&&u.scrollIntoView({behavior:"smooth",block:"center"})},300)):I(C.value,!0)}const V=ae(G,300);return(u,r)=>(t(),n("section",null,[s("header",null,[g(i)?(t(),n("i",{key:0,class:"back",onClick:F},[w(Gs)])):m("",!0),s("div",et,[s("div",st,[w(xs)]),ee(s("input",{type:"text",placeholder:"请输入关键字","onUpdate:modelValue":r[0]||(r[0]=d=>a.value=d),class:"search",onKeydown:r[1]||(r[1]=te((...d)=>g(V)&&g(V)(...d),["enter"]))},null,544),[[se,a.value]]),s("button",{class:"suffix",onClick:r[2]||(r[2]=(...d)=>g(V)&&g(V)(...d))},"搜索")])]),s("main",tt,[g(i)?(t(),n("h3",nt," 第"+c(g(p)-1)+"世祖 "+c(g(i).die?g(i).name+(g(i).gender?"公":"婆"):g(i).name)+" 后裔 ",1)):m("",!0),w(Ae,{list:C.value},{item:z(({item:d})=>[w(Es,{item:d},null,8,["item"])]),_:1},8,["list"])])]))}}),lt=$(ot,[["__scopeId","data-v-3996e84a"]]);export{lt as default};
