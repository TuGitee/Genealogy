import{_ as f,o as u,c as h,d as x,x as v,m as r,b as s,z as y,A as I,n as k,h as S,i as L,u as B,p as C,a as w}from"./index-SkusbTtx.js";import{g as A}from"./index-Bpbsp9b4.js";const D={};function N(t,c){return u(),h("i")}const V=f(D,[["render",N],["__scopeId","data-v-efbdbfa5"]]),g=t=>(C("data-v-4d9e3fde"),t=t(),w(),t),z=g(()=>s("h1",null,"登录",-1)),T=["disabled"],E=g(()=>s("span",null,"登录",-1)),J=x({__name:"Login",setup(t){const c=JSON.parse(v.decrypt(A)||"[]"),e=r(""),l=r(!1),o=r(!1),b=B();function d(i){i.preventDefault(),e.value.trim()&&(o.value=!0,c.some(a=>{var n,p,m;return a.name===e.value||a.pname===e.value||(Array.isArray(a.mate)?(n=a.mate)==null?void 0:n.some(_=>_.name===e.value||_.pname===e.value):((p=a.mate)==null?void 0:p.name)===e.value||((m=a.mate)==null?void 0:m.pname)===e.value)})?(localStorage.setItem("token",v.encrypt(e.value+"|"+Date.now())),b.push("/")):(l.value=!0,setTimeout(()=>{l.value=!1},200)),o.value=!1)}return(i,a)=>(u(),h("section",null,[z,s("form",{action:"#",onSubmit:d},[y(s("input",{placeholder:"请输入你的姓名",type:"text",name:"username","onUpdate:modelValue":a[0]||(a[0]=n=>e.value=n),class:k({error:l.value})},null,2),[[I,e.value]]),s("button",{onClick:d,disabled:!e.value.trim()||o.value},[o.value?(u(),S(V,{key:0})):L("",!0),E],8,T)],32)]))}}),R=f(J,[["__scopeId","data-v-4d9e3fde"]]);export{R as default};
