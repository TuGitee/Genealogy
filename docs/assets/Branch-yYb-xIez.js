import{_ as w,o as t,c as n,p as L,a as A,b as s,d as B,F as T,r as O,e as J,n as z,f as $,w as q,g as S,T as Z,h as I,i as u,t as c,j as Y,k as Q,l as W,m as G,q as X,s as j,u as f,v as K,x,y as ee,z as se,A as te,B as ne,C as b,D as oe,E as ie,G as ae,H as le,I as re}from"./index-Po9proqR.js";const ce={},F=o=>(L("data-v-670bb427"),o=o(),A(),o),de={t:"1707551930411",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4400",width:"16",height:"16"},he=F(()=>s("path",{d:"M131.11 192.37m32.17 0l700.08 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-700.08 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4401"},null,-1)),ue=F(()=>s("path",{d:"M131.11 766.83m32.17 0l700.08 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-700.08 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4402"},null,-1)),me=F(()=>s("path",{d:"M449.33 385.09m32.17 0l381.87 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-381.87 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4403"},null,-1)),pe=F(()=>s("path",{d:"M449.33 578.11m32.17 0l381.87 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-381.87 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4404"},null,-1)),_e=F(()=>s("path",{d:"M129.91 512.16L321.14 639.7V384.62L129.91 512.16z",fill:"#2c2c2c","p-id":"4405"},null,-1)),fe=[he,ue,me,pe,_e];function ve(o,i){return t(),n("svg",de,fe)}const ge=w(ce,[["render",ve],["__scopeId","data-v-670bb427"]]),we={},ye=o=>(L("data-v-43447039"),o=o(),A(),o),$e={t:"1707620551337",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4227",width:"16",height:"16"},ke=ye(()=>s("path",{d:"M937.387 488.107L772.267 372.48c-12.8-9.387-30.294-6.827-40.107 5.547-3.84 4.693-5.547 10.666-5.547 17.066v233.814c0 22.613 25.6 36.693 45.654 22.613l165.546-115.627c14.08-14.08 14.08-36.693-0.426-47.786z m-23.04-274.774H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.133 34.133-34.133h785.067c18.773 0 34.133 15.36 34.133 34.133s-14.933 34.133-34.133 34.133z m0 665.6H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.133 34.133-34.133h785.067c18.773 0 34.133 15.36 34.133 34.133s-14.933 34.133-34.133 34.133zM624.213 435.2H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.134 34.133-34.134h494.933c18.774 0 34.134 15.36 34.134 34.134S643.413 435.2 624.213 435.2z m0.427 221.867H129.28c-18.773 0-34.133-15.36-34.133-34.134s15.36-34.133 34.133-34.133h495.36c18.773 0 34.133 15.36 34.133 34.133v0.427c-0.426 18.347-15.36 33.707-34.133 33.707z",fill:"#2c2c2c","p-id":"4228"},null,-1)),Ce=[ke];function be(o,i){return t(),n("svg",$e,Ce)}const Ie=w(we,[["render",be],["__scopeId","data-v-43447039"]]),Be={key:0},Me=["onClick"],qe={key:1,class:"open"},Se=["onClick"],ze=["onClick"],Le=B({__name:"List",props:{list:{}},setup(o){return(i,_)=>{const v=J("List",!0);return t(),n("ul",null,[(t(!0),n(T,null,O(i.list,a=>(t(),n("li",{key:a.id,class:z({open:!a.show})},[$(Z,{name:"scale",mode:"out-in"},{default:q(()=>[a.show?(t(),n("div",Be,[s("i",{class:"fold",onClick:e=>a.show=!a.show},[$(ge)],8,Me),S(i.$slots,"item",{item:a},void 0,!0),$(Z,{name:"fade",mode:"out-in"},{default:q(()=>[a.showChildren&&a.children?(t(),I(v,{key:0,list:a.children},{item:q(e=>[S(i.$slots,"item",{item:e.item},void 0,!0)]),_:2},1032,["list"])):u("",!0)]),_:2},1024)])):(t(),n("div",qe,[s("i",{class:"fold",onClick:e=>a.show=!a.show},[$(Ie)],8,Se),s("i",{class:z(["dot",a.gender?"male":"female"])},null,2),s("b",{onClick:e=>a.show=!a.show},c(a.pname||a.name),9,ze)]))]),_:2},1024)],2))),128))])}}}),Ae=w(Le,[["__scopeId","data-v-a496b5de"]]),Fe={},Ve={width:"10",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{"margin-right":"4px"}},De=s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 1.25a.75.75 0 000 1.5h1.09L7.54 4.298a.757.757 0 00-.058.066 4 4 0 10.968 1.112.752.752 0 00.15-.117L10.25 3.71V5a.75.75 0 001.5 0V2a.75.75 0 00-.75-.75H8zM5 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z",fill:"#168EF9"},null,-1),Ne=[De];function Te(o,i){return t(),n("svg",Ve,Ne)}const He=w(Fe,[["render",Te]]),Ee={},je={width:"10",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{"margin-right":"4px"}},Oe=Y('<mask id="woman_svg__a" maskUnits="userSpaceOnUse" x="-4" y="-4" width="16" height="16" style="mask-type:alpha;"><path fill="#C4C4C4" d="M-2-2h16v16H-2z"></path></mask><g mask="url(#woman_svg__a)" stroke="#F5588E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="7.2" cy="4.896" r="3.25"></circle><path d="M1.617 10.511l3.115-3.115M1.904 7.396l2.828 2.829"></path></g>',2),Pe=[Oe];function Ue(o,i){return t(),n("svg",je,Pe)}const Ze=w(Ee,[["render",Ue]]),Ge=B({__name:"GenderIcon",props:{gender:{type:Boolean}},setup(o){return(i,_)=>i.gender?(t(),I(He,{key:0})):(t(),I(Ze,{key:1}))}}),Ke=o=>(L("data-v-f9e67af9"),o=o(),A(),o),Re={class:"container"},Je=Ke(()=>s("h3",{class:"title"},"详细信息",-1)),Ye={class:"body"},Qe=B({__name:"Modal",props:{open:{type:Boolean}},emits:["close"],setup(o,{emit:i}){const _=i;function v(){_("close")}return Q(()=>{document.querySelector("#container").style.overflow="hidden"}),W(()=>{document.querySelector("#container").style.overflow="auto"}),(a,e)=>(t(),I(X,{to:"body"},[s("div",{class:"modal",onClick:G(v,["self"])},[s("div",Re,[S(a.$slots,"header",{},()=>[Je],!0),s("div",Ye,[S(a.$slots,"body",{},void 0,!0)]),S(a.$slots,"footer",{},()=>[s("button",{onClick:v,class:"btn"},"确认")],!0)])])]))}}),We=w(Qe,[["__scopeId","data-v-f9e67af9"]]),y=o=>(L("data-v-ed2ecabd"),o=o(),A(),o),Xe=["textContent"],xe=["textContent"],es={key:0,class:"item"},ss={class:"item"},ts={key:0},ns={key:1},os={key:1,class:"item"},is={key:2,class:"item"},as={class:"item"},ls={key:0},rs={key:1},cs=["href"],ds={class:"name"},hs=y(()=>s("span",{class:"align"},"姓名",-1)),us={key:0,class:"level"},ms=y(()=>s("span",{class:"align"},"世代",-1)),ps={key:1,class:"pname"},_s=y(()=>s("span",{class:"align"},"乳名",-1)),fs={class:"gender"},vs=y(()=>s("span",{class:"align"},"性别",-1)),gs={key:2,class:"mate"},ws=y(()=>s("span",{class:"align"},"配偶",-1)),ys={key:3,class:"age"},$s=y(()=>s("span",{class:"align"},"虚岁",-1)),ks={key:4,class:"birthYear"},Cs=y(()=>s("span",{class:"align"},"出生日期",-1)),bs={key:5,class:"origin"},Is=y(()=>s("span",{class:"align"},"来自",-1)),Bs={key:6,class:"phone"},Ms=y(()=>s("span",{class:"align"},"联系电话",-1)),qs=["href"],Ss={key:7,class:"wechat"},zs=y(()=>s("span",{class:"align"},"微信",-1)),Ls={key:8,class:"tags"},As=y(()=>s("span",{class:"align"},"其他信息",-1)),Fs={key:9,class:"image-container"},Vs=["src"],Ds=B({__name:"PersonCard",props:{item:{}},setup(o){const i=e=>e?"男":"女",_=j(!1);function v(e){window.open(e,"_blank")}async function a(e){await navigator.clipboard.writeText(e)}return(e,l)=>{var g;return t(),n(T,null,[s("article",{class:z([e.item.gender?"male":"female",e.item.current?"current":"",e.item.die?"die":""]),onClick:l[1]||(l[1]=p=>_.value=!0)},[s("header",null,[s("span",{class:"name",textContent:c(e.item.name)},null,8,Xe),e.item.pname?(t(),n("span",{key:0,class:"pname",textContent:c(e.item.pname)},null,8,xe)):u("",!0)]),s("body",null,[e.item.level?(t(),n("span",es,"第"+c(e.item.level)+"世",1)):u("",!0),s("span",ss,[$(Ge,{gender:!!e.item.gender},null,8,["gender"]),e.item.age?(t(),n("span",ts,c(e.item.age)+"岁",1)):(t(),n("span",ns,c(i(e.item.gender)),1))]),e.item.origin?(t(),n("span",os,c(e.item.origin),1)):u("",!0),(g=e.item.lunarBirthDay)!=null&&g.slice(5)?(t(),n("span",is,c(e.item.lunarBirthDay.slice(5)),1)):u("",!0),(t(!0),n(T,null,O(e.item.tags,p=>(t(),n("span",as,c(p),1))),256))]),s("footer",null,[e.item.lunarBirthDay?(t(),n("p",ls," 出生年份: "+c(e.item.lunarBirthDay.slice(0,4))+"年 ",1)):u("",!0),e.item.phone?(t(),n("p",rs,[f(" 联系电话: "),s("a",{href:`tel:${e.item.phone}`,onClick:l[0]||(l[0]=G(()=>{},["stop"]))},c(e.item.phone),9,cs)])):u("",!0)])],2),_.value?(t(),I(We,{key:0,open:_.value,onClose:l[4]||(l[4]=p=>_.value=!1)},{body:q(()=>[s("p",ds,[hs,f(": "+c(e.item.name),1)]),e.item.level?(t(),n("p",us,[ms,f(": 第"+c(e.item.level)+"世 ",1)])):u("",!0),e.item.pname?(t(),n("p",ps,[_s,f(": "+c(e.item.pname),1)])):u("",!0),s("p",fs,[vs,f(": "+c(i(e.item.gender)),1)]),e.item.mate?(t(),n("p",gs,[ws,f(": "+c(Array.isArray(e.item.mate)?e.item.mate.map(p=>p.name).join("、"):e.item.mate.name),1)])):u("",!0),e.item.age?(t(),n("p",ys,[$s,f(": "+c(e.item.age)+"岁 ",1)])):u("",!0),e.item.lunarBirthDay?(t(),n("p",ks,[Cs,f(": "+c(e.item.lunarBirthDay),1)])):u("",!0),e.item.origin?(t(),n("p",bs,[Is,f(": "+c(e.item.origin),1)])):u("",!0),e.item.phone?(t(),n("p",Bs,[Ms,f(": "),s("a",{href:`tel:${e.item.phone}`},c(e.item.phone),9,qs)])):u("",!0),e.item.phone?(t(),n("p",Ss,[zs,f(": "),s("a",{href:"weixin://",onClick:l[2]||(l[2]=p=>a(e.item.phone))},c(e.item.phone),1)])):u("",!0),e.item.tags?(t(),n("p",Ls,[As,f(": "+c(e.item.tags.join("、")),1)])):u("",!0),e.item.image?(t(),n("div",Fs,[s("img",{src:e.item.image,alt:"avatar",class:"image",onClick:l[3]||(l[3]=p=>v(e.item.image))},null,8,Vs)])):u("",!0)]),_:1},8,["open"])):u("",!0)],64)}}}),E=w(Ds,[["__scopeId","data-v-ed2ecabd"]]),Ns=["title"],Ts={key:0,class:"close-text"},Hs={key:1,class:"close-text"},Es=B({__name:"PersonItem",props:{item:{}},setup(o){const{item:i}=o,_=K(),v=x(()=>i.pname?i.pname:i.name.length>1?i.name.slice(1):i.name[0]),a=e=>{var l;(l=e.children)!=null&&l.length&&_.push(`/branch/${e.id}`)};return(e,l)=>{var g,p,V,k,M;return t(),n("section",{class:z({children:((g=e.item.children)==null?void 0:g.length)&&e.item.showChildren})},[s("aside",null,[s("div",{class:"avatar",style:ee({"--length":v.value.length+1,cursor:(p=e.item.children)!=null&&p.length?"pointer":"default"}),onClick:l[0]||(l[0]=C=>a(e.item)),title:(V=e.item.children)!=null&&V.length?"点击查看此分支":""},c(v.value),13,Ns),(k=e.item.children)!=null&&k.length?(t(),n("div",{key:0,class:z(["close",{open:e.item.showChildren}]),onClick:l[1]||(l[1]=C=>e.item.showChildren=!e.item.showChildren)},[e.item.showChildren?(t(),n("span",Hs,"收起")):(t(),n("span",Ts,"展开 "+c((M=e.item.children)==null?void 0:M.length),1))],2)):u("",!0)]),$(E,{item:e.item},null,8,["item"]),Array.isArray(e.item.mate)?(t(!0),n(T,{key:0},O(e.item.mate,C=>(t(),I(E,{key:C.name,item:C},null,8,["item"]))),128)):e.item.mate?(t(),I(E,{key:1,item:e.item.mate},null,8,["item"])):u("",!0)],2)}}}),js=w(Es,[["__scopeId","data-v-67ea4aad"]]),Os={},Ps=o=>(L("data-v-0f6d3c68"),o=o(),A(),o),Us={t:"1707552859824",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4303",width:"16",height:"16"},Zs=Ps(()=>s("path",{d:"M395.21518 513.604544l323.135538-312.373427c19.052938-18.416442 19.052938-48.273447 0-66.660212-19.053961-18.416442-49.910737-18.416442-68.964698 0L291.75176 480.290811c-19.052938 18.416442-19.052938 48.273447 0 66.660212l357.633237 345.688183c9.525957 9.207709 22.01234 13.796214 34.497699 13.796214 12.485359 0 24.971741-4.588505 34.466999-13.82896 19.052938-18.416442 19.052938-48.242747 0-66.660212L395.21518 513.604544z",fill:"#272636","p-id":"4304"},null,-1)),Gs=[Zs];function Ks(o,i){return t(),n("svg",Us,Gs)}const Rs=w(Os,[["render",Ks],["__scopeId","data-v-0f6d3c68"]]),Js={},Ys={width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"FhOy97Hs"},Qs=s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.875 1.5a6.375 6.375 0 103.642 11.608l3.063 3.063a1.125 1.125 0 001.59-1.591l-3.062-3.063A6.375 6.375 0 007.875 1.5zM3.75 7.875a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0z",fill:"#4F5168"},null,-1),Ws=[Qs];function Xs(o,i){return t(),n("svg",Ys,Ws)}const xs=w(Js,[["render",Xs]]),et={class:"search-container"},st={class:"prefix"},tt={class:"container",id:"container"},nt={key:0},ot=B({__name:"Branch",setup(o){const i=j(""),_=le(),v=K(),a=Number(_.params.id||-1),e=JSON.parse(se.decrypt(te)||"[]"),l=e.find(m=>m.id===a);let g=l,p=30;for(;g;)g=e.find(m=>m.id===(g==null?void 0:g.pid)),p++;function V(){v.push(`/branch/${l==null?void 0:l.pid}`)}const k=j(ne(e,a,p).map(m=>(m.showChildren=!0,m)));function M(m){for(const r of m)r.current=!1,r.mate&&(Array.isArray(r.mate)?r.mate.forEach(d=>d.current=!1):r.mate.current=!1),r.children&&M(r.children)}function C(m,r){for(const d of m)d.show=r,d.children&&C(d.children,r)}function H(m,r){var d,h;return!!(m.name.includes(r)||(d=m.pname)!=null&&d.includes(r)||(h=m.keywords)!=null&&h.some(N=>r.toLocaleLowerCase().includes(N)))}function P(m,r){const d=[];for(const h of m){if(H(h,r))h.current=!0,h.show=!0,d.push(h);else if(h.mate&&Array.isArray(h.mate))for(const U of h.mate)H(U,r)&&(U.current=!0,h.show=!0,d.push(h));else h.mate&&!Array.isArray(h.mate)&&H(h.mate,r)&&(h.mate.current=!0,h.show=!0,d.push(h));const N=P(h.children,r);d.push(...N),N.length?(h.show=!0,h.showChildren=!0,d.push(h)):h.showChildren=!1}return d}function R(){M(k.value),i.value.trim()?(C(k.value,!1),P(k.value,i.value.trim()),setTimeout(()=>{const m=document.querySelector(".current");m&&m.scrollIntoView({behavior:"smooth",block:"center"})},300)):C(k.value,!0)}const D=re(R,300);return(m,r)=>(t(),n("section",null,[s("header",null,[b(l)?(t(),n("i",{key:0,class:"back",onClick:V},[$(Rs)])):u("",!0),s("div",et,[s("div",st,[$(xs)]),oe(s("input",{type:"text",placeholder:"请输入关键字","onUpdate:modelValue":r[0]||(r[0]=d=>i.value=d),class:"search",onKeydown:r[1]||(r[1]=ae((...d)=>b(D)&&b(D)(...d),["enter"]))},null,544),[[ie,i.value]]),s("button",{class:"suffix",onClick:r[2]||(r[2]=(...d)=>b(D)&&b(D)(...d))},"搜索")])]),s("main",tt,[b(l)?(t(),n("h3",nt,"第"+c(b(p)-1)+"世祖 "+c(b(l).name)+" 后裔",1)):u("",!0),$(Ae,{list:k.value},{item:q(({item:d})=>[$(js,{item:d},null,8,["item"])]),_:1},8,["list"])])]))}}),at=w(ot,[["__scopeId","data-v-964b6916"]]);export{at as default};
