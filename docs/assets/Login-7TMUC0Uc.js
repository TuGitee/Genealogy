import{_,o as c,c as v,d as x,x as m,m as u,z as y,A as I,b as l,n as b,h as k,i as L,u as S,p as B,a as C}from"./index-GN03M9DF.js";import{g as w}from"./index-ddY3wwJX.js";const A={};function N(s,i){return c(),v("i")}const V=_(A,[["render",N],["__scopeId","data-v-efbdbfa5"]]),f=s=>(B("data-v-64443043"),s=s(),C(),s),z=f(()=>l("h1",null,"登录",-1)),D=["disabled"],T=f(()=>l("span",null,"登录",-1)),E=x({__name:"Login",setup(s){const i=JSON.parse(m.decrypt(w)||"[]"),e=u(""),r=u(!1),o=u(!1),h=S();function g(){e.value.trim()&&(o.value=!0,i.some(a=>{var t,n,d;return a.name===e.value||a.pname===e.value||(Array.isArray(a.mate)?(t=a.mate)==null?void 0:t.some(p=>p.name===e.value||p.pname===e.value):((n=a.mate)==null?void 0:n.name)===e.value||((d=a.mate)==null?void 0:d.pname)===e.value)})?(localStorage.setItem("token",m.encrypt(e.value+"|"+Date.now())),h.push("/")):(r.value=!0,setTimeout(()=>{r.value=!1},200)),o.value=!1)}return(a,t)=>(c(),v("section",null,[z,y(l("input",{placeholder:"请输入你的姓名",type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=n=>e.value=n),class:b({error:r.value})},null,2),[[I,e.value]]),l("button",{onClick:g,disabled:!e.value.trim()||o.value},[o.value?(c(),k(V,{key:0})):L("",!0),T],8,D)]))}}),O=_(E,[["__scopeId","data-v-64443043"]]);export{O as default};
