import{_ as f,o as c,c as h,d as y,z as v,s as l,b as t,B as I,C as k,n as x,h as S,i as B,v as C,p as L,a as w}from"./index-OxryylNR.js";import{g as D}from"./index-RI63FAsL.js";const N={};function V(s,u){return c(),h("i")}const z=f(N,[["render",V],["__scopeId","data-v-efbdbfa5"]]),g=s=>(L("data-v-8c91554d"),s=s(),w(),s),A=g(()=>t("h1",null,"登录",-1)),T=["disabled"],E=g(()=>t("span",null,"登录",-1)),J=y({__name:"Login",setup(s){const u=JSON.parse(v.decrypt(D)||"[]"),e=l(""),r=l(!1),o=l(!1),b=C();function i(d){d.preventDefault(),e.value.trim()&&(o.value=!0,u.some(a=>{var n,p,m;return a.name===e.value||a.pname===e.value||(Array.isArray(a.mate)?(n=a.mate)==null?void 0:n.some(_=>_.name===e.value||_.pname===e.value):((p=a.mate)==null?void 0:p.name)===e.value||((m=a.mate)==null?void 0:m.pname)===e.value)})?(localStorage.setItem("token",v.encrypt(e.value+"|"+Date.now())),b.push("/branch")):(r.value=!0,setTimeout(()=>{r.value=!1},200)),o.value=!1)}return(d,a)=>(c(),h("section",null,[A,t("form",{action:"#",onSubmit:i},[I(t("input",{placeholder:"请输入你的姓名",type:"text",name:"username","onUpdate:modelValue":a[0]||(a[0]=n=>e.value=n),class:x({error:r.value})},null,2),[[k,e.value]]),t("button",{onClick:i,disabled:!e.value.trim()||o.value},[o.value?(c(),S(z,{key:0})):B("",!0),E],8,T)],32)]))}}),R=f(J,[["__scopeId","data-v-8c91554d"]]);export{R as default};
